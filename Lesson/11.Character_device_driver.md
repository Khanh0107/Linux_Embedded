# 1. Character device driver

# 1.1 What is Character device driver

- A character device driver in Linux is a kernel module that allows user-space applications to interact with hardware or virtual devices that handle data as a **stream of bytes** (characters)

# 1.2. Device Types in Linux

- Character devices → read/write byte streams (/dev/tty, /dev/null).
- Block devices → accessed in fixed-size blocks (/dev/sda).
- Network devices → sockets, not seen in /dev.

[bootlin](https://elixir.bootlin.com/linux/v6.16.5/source)  opens the source view mode, allowing you to browse the entire source code of the Linux kernel

# 1.3. Major and Minor Numbers

- Linux uses device numbers to identify devices:
  - Major number → identifies the driver.
  - Minor number → identifies the specific device handled by that driver.

**Example:**

```sh
crw-rw-rw- 1 root root 1, 3 Sep  7 11:00 /dev/null
```

- c → character device
- 1 → major number
- 3 → minor number

# 1.4. Commonly used commands

`uname -r`

- `uname -r` is a Linux/Unix shell command that prints the kernel release version of your operating system

<img width="203" height="36" alt="image" src="https://github.com/user-attachments/assets/de066153-701f-4aef-bdf5-9c443034dda1" />


`ls -l /lib/module/`

- This lists all the installed Linux kernel versions on your system.


`ls -l /lib/modules/$(uname -r)/build/`

- This is usually a symbolic link to the directory where the kernel headers or kernel source for that kernel are located in current version


`sudo insmod exam.ko`

- It loads the kernel module file (exam.ko) into the running kernel.
- .ko = “kernel object” file (the compiled module).


`sudo rmmod exam`

- rmmod = remove module.
- It unloads the kernel module exam from the kernel.


`dmesg -w`

- dmesg = display message. It shows the kernel log buffer.
- -w = watch mode, it keeps printing messages as they appear (like tail -f).

<img width="1205" height="430" alt="image" src="https://github.com/user-attachments/assets/9dfc8e45-dbe7-42be-96cd-8f7fcc915b29" />

